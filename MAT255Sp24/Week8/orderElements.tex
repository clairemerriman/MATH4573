\documentclass{ximera}
\input{../lessonplanheader.tex}

\title{Order of elements modulo $m$}
\begin{document}
\begin{abstract}
\end{abstract}
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{obj}
    \item Define the order of an element modulo $m$
    \item Find the order of an element modulo $m$
    \item Prove basic facts about the order of an element modulo $m$
\end{obj}


%%%%%%%%%%%%%%%%%%%%%%%%%%
<<<<<<< Updated upstream
\subsection*{Review of $\phi$-function}
%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{remark}
    From before break, \nameref{thm:phi-multiplicative} states if $(m,n)=1$ for positive integers $m$ and $n$, then $\phi(mn)=\phi(m)\phi(n).$ 
=======
\section{Review of $\phi$-function}
%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{remark}
    From before break, \cref{thm:phi-multiplicative} states if $(m,n)=1$ for positive integers $m$ and $n$, then $\phi(mn)=\phi(m)\phi(n).$ 
>>>>>>> Stashed changes

    Thus, $\phi(63)=\phi(9(7))=\phi(9)\phi(7)=6(6).$
\end{remark}

<<<<<<< Updated upstream
\begin{ex} Using \nameref{thm:euler-FlT} and the \nameref{CRT}
=======
\begin{br} Using \nameref{thm:euler-FlT} and the \nameref{CRT}
>>>>>>> Stashed changes
	\begin{enumerate}
 		\item\label{ex:proof-with-euler-crt} Let $n$ be an integer not divisible by $3$. Prove that $n^7\equiv n\pmod{63}$.
 		
         \begin{proof}
            Let $n$ be an integer that is not divisible by $3$. By the \nameref{CRT}, 
            \begin{align*}
                x&\equiv n^7 \pmod{7}\\
                x&\equiv n^7 \pmod{9}
            \end{align*} 
            has a unique solution modulo $63.$ 
            By \nameref{cor:a_power_prime_mod}, $n^7\equiv n\pmod{7}.$ 
            
            Since $(n,9)=1$ and $\phi(9)=6,$ \nameref{thm:euler-FlT} says that $n^6\equiv 1\pmod{9}.$ Multiplying both sides of the congruence by $n$ gives $n^7\equiv n\pmod{9}.$ Thus, $7\mid n^7-n$ and $9\mid n^7-n$ by definition. Since $(7,9)=1,$ $63\mid n^7-n,$ so $n^7\equiv n\pmod{63}.$
         \end{proof}

		\item Let $n$ be an integer divisible by $9$. Prove that $n^7\equiv n \pmod{63}$.
		\begin{remark} Reviewing the proof of part \ref{ex:proof-with-euler-crt}:
            \nameref{cor:a_power_prime_mod} only requires the modulus is prime. \nameref{thm:euler-FlT} does require $(n,m)=1,$ so you cannot use it for this problem, but $n\equiv 0\pmod{9}.$
        \end{remark}
	\end{enumerate}
<<<<<<< Updated upstream
\end{ex}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Order of $a$ modulo $m$}
=======
\end{br}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Order of $a$ modulo $m$}
>>>>>>> Stashed changes
%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{definition}[order of $a$ modulo $m$]\label{defn:order}
    Let $a,m\in\Z$ with $m>0$ and $(a,m)=1.$ Then the \emph{order of $a$ modulo $m$}, denoted $\ord_m a$, is the smallest positive integer $n$ such that $a^n\equiv 1\pmod{m}.$
\end{definition}


\begin{center}
\begin{tabular}{|c|c|c|c|c|c|cc|}
    $a^1$ & $a^2$ & $a^3$ & $a^4$ & $a^5$ & $a^6$ && $\ord_7a$\\\hline
    $\inlineAnswer{1}$ & $\inlineAnswer{1}$ & $\inlineAnswer{1}$ & $\inlineAnswer{1}$ & $\inlineAnswer{1}$ & $\inlineAnswer{1}$ && $1$\\
    $\inlineAnswer{2}$ & $\inlineAnswer{4}$ & $\inlineAnswer{1}$ & $\inlineAnswer{2}$ & $\inlineAnswer{4}$ & $\inlineAnswer{1}$ && $3$\\
    $\inlineAnswer{3}$ & $\inlineAnswer{2}$ & $\inlineAnswer{6}$ & $\inlineAnswer{4}$ & $\inlineAnswer{5}$ & $\inlineAnswer{1}$ && $6$\\
    $\inlineAnswer{4}$ & $\inlineAnswer{2}$ & $\inlineAnswer{1}$ & $\inlineAnswer{4}$ & $\inlineAnswer{2}$ & $\inlineAnswer{1}$ && $3$\\
    $\inlineAnswer{5}$ & $\inlineAnswer{4}$ & $\inlineAnswer{6}$ & $\inlineAnswer{2}$ & $\inlineAnswer{3}$ & $\inlineAnswer{1}$ && $6$\\
    $\inlineAnswer{6}$ & $\inlineAnswer{1}$ & $\inlineAnswer{6}$ & $\inlineAnswer{1}$ & $\inlineAnswer{6}$ & $\inlineAnswer{1}$ && $2$\\
\end{tabular}
\captionof{table}{Table of exponents modulo $7$}\label{table:exp_mod7}
\end{center}

There are many patterns in this table that we will talk about in the future, but the first is that $\ord_m a\mid \phi(m).$


\begin{proposition}\label{prop:order_divides_phi}
    Let $a,m\in\Z$ with $m>0$ and $(a,m)=1.$ Then $a^n\equiv 1\pmod{m}$ for some positive integer $n$ if and only if $\ord_m a\mid n.$ In particular, $\ord_m a\mid \phi(m).$

    \begin{proof}
        Let $a,m\in\Z$ with $m>0$ and $(a,m)=1.$

        \begin{description}
            \item[($\Rightarrow$)] We want to show if $a^n\equiv 1\pmod{m}$ for some positive integer $n,$ then $\ord_m a\mid n.$ 
            
            By the \nameref{div-alg}, there exist unique integers $q, r$ such that $n=(\ord_m a)q+r$ and $0\leq r< \ord_m a.$ Thus, 
                \begin{align*}
                    1 & \equiv a^n \equiv a^{(\ord_m a)q+r}\equiv (a^{(\ord_m a)})^q a^r \equiv a^r\pmod{m}
                \end{align*}
            since $a^{(\ord_m a)}\equiv 1\pmod{m}$ by definition of \nameref{defn:order}. Since $a^r\equiv 1\pmod{m}$ and $0\leq r< \ord_m a,$ if must be that $r=0,$ otherwise $\ord_m a$ is not the smallest positive integer where $a^k\equiv 1\pmod{m}.$

            \item[($\Leftarrow$)] We want to show if $\ord_m a\mid n$ for some positive integer $n,$ then $a^n\equiv 1\pmod{m}.$
            
            If $\ord_m a\mid n,$ then there exists an integer $k$ such that $(\ord_m a)k=n$. Thus, \[a^n\equiv (a^{\ord_m a})^k\equiv 1\pmod{m}\] by definition of \nameref{defn:order}.\qedhere
        \end{description}
    \end{proof}
\end{proposition}

\begin{proposition}\label{prop:exponents_mod_order}
    Let $a,m\in\Z$ with $m>0$ and $(a,m)=1.$ Then $a^i\equiv a^j\pmod{m}$ for nonnegative integers $i, j$ if and and only if $i\equiv j\pmod{\ord_m a}.$
\end{proposition}


\begin{example}
    Let $a=2$ and $m=7.$ Since $\ord_7 2=3,$ $2^i\equiv 2^j\pmod{7}$ if and only if $i\equiv j\pmod{3}.$


    \begin{sketch}
        Let $a=2$ and $m=7.$ Without loss of generality, assume that $i\geq j.$ 

        \begin{description}
<<<<<<< Updated upstream
            \item[($\Rightarrow$)] Assume that $2^i\equiv 2^j\pmod{7}.$ Then by exponent rules, $2^j 2^{i-j}\equiv 2^j\pmod{7}.$ Since $(2^i,7)=1,$ there exists a multiplicative inverse of $2^i$ modulo $7$ by \nameref{cor:condition-invertible}, say $(2^j)^\prime$. Multiplying both sides of the congruence by this inverse, we get, \[2^{i-j}\equiv (2^j)^\prime 2^j 2^{i-j}\equiv (2^j)^\prime 2^j\equiv 1\pmod{7}.\]
            By \nameref{prop:order_divides_phi}, $\ord_m a\mid i-j.$ Thus, $i\equiv j\pmod{\ord_m a}$ by definition.

            \item[($\Leftarrow$)] Assume that $i\equiv j\pmod{3}.$ Then $3\mid i-j$ by definition. Since $\ord_7 2=3,$ \nameref{prop:order_divides_phi} states that $2^{i-j}\equiv 1\pmod{7}.$ Multiplying both sides of the congruence by $2^j$ gives $2^i\equiv 2^j\pmod{7}.$ 
=======
            \item[($\Rightarrow$)] Assume that $2^i\equiv 2^j\pmod{7}.$ Then by exponent rules, $2^j 2^{i-j}\equiv 2^j\pmod{7}.$ Since $(2^i,7)=1,$ there exists a multiplicative inverse of $2^i$ modulo $7$ by \cref{cor:condition-invertible}, say $(2^j)^\prime$. Multiplying both sides of the congruence by this inverse, we get, \[2^{i-j}\equiv (2^j)^\prime 2^j 2^{i-j}\equiv (2^j)^\prime 2^j\equiv 1\pmod{7}.\]
            By \cref{prop:order_divides_phi}, $\ord_m a\mid i-j.$ Thus, $i\equiv j\pmod{\ord_m a}$ by definition.

            \item[($\Leftarrow$)] Assume that $i\equiv j\pmod{3}.$ Then $3\mid i-j$ by definition. Since $\ord_7 2=3,$ \cref{prop:order_divides_phi} states that $2^{i-j}\equiv 1\pmod{7}.$ Multiplying both sides of the congruence by $2^j$ gives $2^i\equiv 2^j\pmod{7}.$ 
>>>>>>> Stashed changes
        \end{description}
    \end{sketch}
\end{example}


\begin{proof}[Proof of Proposition \autoref{prop:exponents_mod_order}]
    Let $a,m\in\Z$ with $m>0$ and $(a,m)=1.$ Without loss of generality, assume that $i\geq j$ for nonnegative integers $i$ and $j.$ 

        \begin{description}
<<<<<<< Updated upstream
            \item[($\Rightarrow$)] Assume that $a^i\equiv a^j\pmod{m}.$ Then by exponent rules, $a^j a^{i-j}\equiv a^j\pmod{m}.$ Since $(a^i,m)=1$ by assumption, there exists a multiplicative inverse of $a^i$ modulo $m$ by \nameref{cor:condition-invertible}, say $(a^j)^\prime$. Multiplying both sides of the congruence by this inverse, we get, \[a^{i-j}\equiv (a^j)^\prime a^j a^{i-j}\equiv (a^j)^\prime a^j\equiv 1\pmod{m}.\]
            By \nameref{prop:order_divides_phi}, $\ord_m a\mid i-j.$ Thus, $i\equiv j\pmod{\ord_m a}$ by definition.

            \item[($\Leftarrow$)] Assume that $i\equiv j\pmod{\ord_m a}.$ Then $\ord_m a\mid i-j$ by definition, and \nameref{prop:order_divides_phi} states that $a^{i-j}\equiv 1\pmod{m}.$ Multiplying both sides of the congruence by $a^j$ gives $a^i\equiv a^j\pmod{m}.$ 
=======
            \item[($\Rightarrow$)] Assume that $a^i\equiv a^j\pmod{m}.$ Then by exponent rules, $a^j a^{i-j}\equiv a^j\pmod{m}.$ Since $(a^i,m)=1$ by assumption, there exists a multiplicative inverse of $a^i$ modulo $m$ by \cref{cor:condition-invertible}, say $(a^j)^\prime$. Multiplying both sides of the congruence by this inverse, we get, \[a^{i-j}\equiv (a^j)^\prime a^j a^{i-j}\equiv (a^j)^\prime a^j\equiv 1\pmod{m}.\]
            By \cref{prop:order_divides_phi}, $\ord_m a\mid i-j.$ Thus, $i\equiv j\pmod{\ord_m a}$ by definition.

            \item[($\Leftarrow$)] Assume that $i\equiv j\pmod{\ord_m a}.$ Then $\ord_m a\mid i-j$ by definition, and \cref{prop:order_divides_phi} states that $a^{i-j}\equiv 1\pmod{m}.$ Multiplying both sides of the congruence by $a^j$ gives $a^i\equiv a^j\pmod{m}.$ 
>>>>>>> Stashed changes
        \end{description}
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}
