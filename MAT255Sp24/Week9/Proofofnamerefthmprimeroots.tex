\documentclass{../ximera}
\input{../lessonplanheader.tex}

\title{Proof of \nameref{thm:prime-roots}
\begin{document}
\begin{abstract}
\end{abstract}
\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{obj}
    \item Find the number of roots of unity modulo $m$
    \item Prove primitive roots exist modulo a prime
\end{obj}


\begin{pre}
    \item[Reading] None
\end{pre}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Roots of unity (35 minutes)}
%%%%%%%%%%%%%%%%%%%%%%%%%%

Finish proof of \nameref{prop:roots-unity}


\begin{br}\label{br:condition-root-unity}
    Let $p$ be prime, $m$ a positive integer, and $d=(m,p-1).$ Prove that $a^m\equiv 1\pmod{p}$ if and only if $a^d\equiv 1\pmod{p}.$


    \begin{solution}
        Let $p$ be prime, $m$ a positive integer, and $d=(m,p-1).$ Let $a\in\Z$. If $p\mid a,$ then $a^i\answer{\equiv 0\pmod{p}}$ for all positive integers $i$. 
        Thus, we are only considering $a\in\Z$ such that $p\nmid a.$
        Otherwise, $a^{p-1}\equiv 1\pmod{p}$ by $\answer{\textnormal{\nameref{FlT}}}$.
        
        By \nameref{prop:order_divides_phi}, $a^m\equiv 1\pmod{p}$ if and only if $\answer{\ord_p a \mid m}$. Similarly, $\answer{a^{p-1}\equiv 1\pmod{p}}$ if and only if $\answer{\ord_p a \mid p-1}$. Thus, $\answer{\ord_p a}$ is a common divisor of $\answer{m}$ and $\answer{p-1}$. Combining \nameref{lem:gcd_mult} and \nameref{lem:gcd_trans} gives $\ord_p a$ is a common divisor of   $\answer{m}$ and $\answer{p-1}$ if and only if $\ord_p a\mid d$. One final application of \nameref{prop:order_divides_phi} gives $\answer{\ord_p a\mid d}$ if and only if $\answer{a^d\equiv 1\pmod{p}}$.
    \end{solution}
\end{br}

\begin{br}\label{br:more-roots-unity}
        Let $p$ be prime and $m$ a positive integer. Prove that 
        \[
            x^m\equiv 1\pmod{p}
        \]
        has exactly $(m,p-1)$ incongruent solutions modulo $p.$


        \begin{proof}
            Let $p$ be prime, $m$ a positive integer, and $d=(m,p-1).$ 
            By \autoref{br:condition-root-unity}, $x^m\equiv 1\pmod{p}$ if and only if $x^d\equiv 1\pmod{p}$. By \nameref{prop:roots-unity} there are exactly $d$ solutions to $x^d\equiv 1\pmod{p}.$ Thus, there are exactly $d$ solutions to $x^m\equiv 1\pmod{p}.$
        \end{proof}
\end{br}

%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Primitive roots modulo a prime (15 minutes)}
%%%%%%%%%%%%%%%%%%%%%%%%%%

We will now prove the existence of primivitive roots modulo a prime combining the two methods from the reading: we will show that when $d\mid p-1,$ there are $\phi(d)$ incongruent integers of order $d$ modulo $p,$ like Strayer. However, we will prove this using the method from \nameref{read-lem:prime-power-order} instead of results from Chapter 3.

\begin{thm*}[Theorem 5.9]\label{thm:number-element-order-d}
    Let $p$ be a prime and let $d\in\Z$ with $d>0$ and $d\mid p-1.$ Then there are exactly $\phi(d)$ incongruent integers of order $d$ modulo $p.$
\end{thm*}


\begin{proof}
    Let $p$ be a prime and let $d\in\Z$ with $d>0$ and $d\mid p-1.$ First we will prove the theorem for $d=q^s$ modulo $p$ where $q$ is prime and $s$ is a nonnegative integer.

    By \nameref{prop:roots-unity}, there are exactly $q^s$ incongruent solutions to 
    \begin{equation}\label{eq:unity-2a}
        x^{q^s}\equiv 1\pmod{p}
    \end{equation} and exactly $q^{s-1}$ incongruent solutions to 
    \begin{equation}\label{eq:unity-2b}
        x^{q^{s-1}}\equiv 1\pmod{p}.
    \end{equation}
    Since $(x^{q^{s-1}})^q=x^{q^s},$ all solutions to \eqref{eq:unity-2b} are solutions to \eqref{eq:unity-2a}. 
    Thus, there are exactly $q^s-q^{s-1}=q^{s-1}(q-1)$ integers $a$ where $a^{q^s}\equiv 1\pmod{p}$ and $a^{q^{s-1}}\not\equiv 1\pmod{p}.$ Thus, by \nameref{prop:order_divides_phi}, $\ord_p a \mid q^s$ and $\ord_p a\nmid q^{s-1}.$ Since $q$ is prime, $\ord_p a =q^s.$ By \nameref{thm:phi-prime-power}, $\phi(q^s)=q^s-q^{s-1}=q^{s-1}(q-1),$ so we have shown there are $\phi(q^s)$ incongruent integers with order $q^s$ modulo $p$.

    Now we will prove the general case. Let 
    \[d=q_1^{s_1}q_2^{s_2}\cdots q_k^{s_k}\]
    for distinct primes $q_1,q_2,\dots,q_k$ and positive integers $s_1,s_2,\dots,s_k.$ Let $a_1,a_2,\dots,a_k$ be elements of order $q_1^{s_1},q_2^{s_2},\dots, q_k^{s_k}$ respectively.
    %Since there are $\phi(q_1^{s_1})$ options for $a_1,$ $\phi(q_2^{s_2})$ options for $a_2,$ etc there are $\phi(q_1^{s_1})\phi(q_2^{s_2})\cdots\phi(q_k^{s_k})=\phi(d)$ ways to form $a=a_1a_2\cdots a_k.$ 
    Consider $a=a_1a_2\cdots a_k$ and $a^2, a^3,\dots,a^d$. By Homework 6, Problem 6, $a$ has order $q_1^{s_1}q_2^{s_2}\cdots q_k^{s_k}=d.$ 
    By \nameref{prop:roots-unity}, there are exactly $d$ solutions to $x^d\equiv 1\pmod{p}$. 
    Thus, $a, a^2,\dots,a^d$ are all incongruent solutions to $x^d\equiv 1\pmod{p}$ by \nameref{prop:order_divides_phi}. 
    By \nameref{prop:compare-order},
    $\ord_p a^i=\frac{d}{(d,i)}=d$ if and only if $(d,i)=1.$ Since there are $\phi(d)$ such integers $i,$ there are in fact $\phi(d)$ incongruent integers with order $d$ modulo $p.$
\end{proof}


\begin{cor*}[Corollary 5.10]\label{cor:number-prime-roots}
    Let $p$ be prime. There are exactly $\phi(p-1)$ primitive roots modulo $p.$
\end{cor*}


%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}
